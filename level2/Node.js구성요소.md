### Node.js
```
node에서는 브라우저 환경에서만 동작하는 js를 실행시키는 방법은 v8엔진과 libuv및 c/c++의존성을 가진 런타임 환경에서 동작하기떄문에 가능한것입니다.
런타임은 js로된 프로그램을 실행할 수 있는 프로그램 입니다.
ex)자바는 JRE, C#은 CLR이라는 런타임에서 실행됩니다.
```

## Node.js의 구성요소
- Node.js API: js api
- Node.js 바인딩: js에서 c/c++함수를 호출할 수 있게 합니다
- Node.js 표준 라이브러리: os와 관련된 함수들 타이머, 파일 시스템, 네트워크요청
- C/C++ 애드온: Node.js에서 C/C++ 소스코드를 실행할 수 있게하는 애드온
- V8(C++): 오픈소스 js엔진, js파싱, 인터프리터, 컴파일, 최적화에 사용됩니다
- libuv(c++): 비동기 I/O에 초점을 맞춘 멀티플랫폼을 지원하는 라이브러리. 이벤트 루프, 스레ㅐ드 풀등을 사용합니다.
-  기타 C/C++ 컴포넌트 : OpenSSL, zlib, HTTP파서
중요한 v8과 libuv에 대해 알아보자 

### 자바스크립트 실행을 위한 V8엔진
```
v8은 c++로 만든 오픈소스 자바스크립트 엔진입니다.
엔진은 사용자가 작성한 코드를 실행하는 프로그램을 말합니다. 
구성요소로는 파서, 컴파일러, 인터프리터, GC, 콜 스택, 힙으로 구성되어 있습니다.

v8엔진의 자바스크립트 코드 파일일 단계: js -> 파서 -> 파서에서 추상구문트리로 만들어집니다 -> 이그니션(인터프리터) || 터보팬(컴파일러) -> 
터보팬을 거치면 바이너리 코드 이그니션을 거치면 바이트 코드가 됩니다.
바이너리 코드로 최적화가 잘 안되면 다시 최적화 해제하고 이그니션의 인터프리터 기능을 사용합니다
```

### 이벤트 루프와 운영체제 단 비동기 API및 스레드 풀을 지원하는 libuv
v8엔진을 통해서 자바스크립트를 실행할 수 있다는 것을 알았습니다. 그러면 Node.js는
HTTP, 파일, 소켓 통신 IO 기능 등 js에 없는 기능을 어떻게 제공하는 것인가요? 바로 libuv라는 C++라이브러리를 통해 해결합니다

## Node.js 아키텍처
```
Node.js는 자바스크립트 코드 실행에 필요한 런타임으로 V8엔진을 사용하고 
자바스크립트 런타임에 필요한 이벤트 루프 및 운영체제 시스템 API를 사용하는 데 libuv라이브러리를 사용합니다.

코드흐름
0. 애플리케이션 요청 발생
1. js로 작성된 코드는 v8을 통해서 바이트 코드나 기계어로 변환
2. js로 작성된 node.js의 api는 c++로 작성된 코드를 사용
3. v8엔진은 이벤트 루프로 libuv를 사용 큐에 전달
4. 큐에서 이벤트 루프로 전달되고 이를 os나 워커 스레드에서 처리
5. 완료된 작업은 이벤트 루프로 전달되고
6. 이벤트 루프에서는 콜배긍로 전달된 요청에 대한 완료 처리를 하고 넘깁니다
7. 완료 처리된 응답을 Node.js 애플리케이션으로 전달합니다
```


